<!doctype html><html lang=en-us><head><link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><script type=text/javascript src=https://latest.cactus.chat/cactus.js></script><link rel=stylesheet href=https://latest.cactus.chat/style.css type=text/css><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Installation of Kubernetes on Debian Part 2 - Adding a Node | Zaft Memory Core </title><link rel=canonical href=https://davmig.github.io/posts/k8s-part3-fluxcd-installation/><meta name=description content="Welcome to Zaft Memory Core — a personal archive for my thoughts, ideas, and technical explorations. This platform is where I document my journey, from code snippets and project insights to creative concepts worth revisiting. It’s more than just a collection—it's a reflection of how I think, organize, and approach challenges. Designed to be simple yet effective, Zaft Memory Core keeps everything I need in one place, ready to evolve alongside my skills and interests. Because every idea deserves structure."><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:url" content="https://davmig.github.io/posts/k8s-part3-fluxcd-installation/"><meta property="og:site_name" content="Zaft Memory Core "><meta property="og:title" content="Installation of Kubernetes on Debian Part 2 - Adding a Node"><meta property="og:description" content="Part 3 - Adding flux CD In this part, we will add flux CD to our cluster, so we can maintain it in sync with our git repository. The goal here is to actually leverage the gitops principles , where you define your desired stat in a git repository and flux will make sure your cluster is in sync with it.
If you followed our previous part, you should have a working kubernetes cluster with a control plane and a node, which is sufficient to start using flux CD."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-05-17T09:00:00+00:00"><meta property="article:modified_time" content="2025-05-17T09:00:00+00:00"><meta property="article:tag" content="Kubernetes"><meta property="article:tag" content="K8s"><meta name=twitter:card content="summary"><meta name=twitter:title content="Installation of Kubernetes on Debian Part 2 - Adding a Node"><meta name=twitter:description content="Part 3 - Adding flux CD In this part, we will add flux CD to our cluster, so we can maintain it in sync with our git repository. The goal here is to actually leverage the gitops principles , where you define your desired stat in a git repository and flux will make sure your cluster is in sync with it.
If you followed our previous part, you should have a working kubernetes cluster with a control plane and a node, which is sufficient to start using flux CD."><link rel=stylesheet href=https://davmig.github.io/css/styles.c05d68261bf086a9d7713c4f8a6215a3601608e267a816a7ee58f139b3d1aae51222aae2081c8e0c6bd35e1334773b7a16283022f31f92afd93bb37e5e822e66.css integrity="sha512-wF1oJhvwhqnXcTxPimIVo2AWCOJnqBan7ljxObPRquUSIqriCByODGvTXhM0dzt6FigwIvMfkq/ZO7N+XoIuZg=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://davmig.github.io/images/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=false"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","false")}</script></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick='$("html, body").animate({scrollTop:0},"fast")' style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu><span id=nav><ul><li><a href=/>Main</a></li><li><a href=/posts>Writings</a></li><li><a href=/tags>Tags</a></li><li><a href=/about>About</a></li><li><a href=/posts/>Posts</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=https://davmig.github.io/posts/k8s-part1-control-plane-installation-on-debian/ aria-label=Previous><i class="fas fa-chevron-left" aria-hidden=true onmouseover='$("#i-prev").toggle()' onmouseout='$("#i-prev").toggle()'></i></a></li><li><a class=icon href=https://davmig.github.io/posts/k8s-part2-adding-node/ aria-label=Next><i class="fas fa-chevron-right" aria-hidden=true onmouseover='$("#i-next").toggle()' onmouseout='$("#i-next").toggle()'></i></a></li><li><a class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up" aria-hidden=true onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class=icon href=# aria-label=Share><i class="fas fa-share-alt" aria-hidden=true onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f" aria-label=Facebook><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f&text=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node" aria-label=Twitter><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f&title=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node" aria-label=Linkedin><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f&is_video=false&description=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node" aria-label=Pinterest><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node&body=Check out this article: https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f" aria-label=Email><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f&title=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node" aria-label=Pocket><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f&title=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node" aria-label=reddit><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f&name=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node&description=%3ch2%20id%3d%22part-3---adding-flux-cd%22%3ePart%203%20-%20Adding%20flux%20CD%3c%2fh2%3e%0a%3cp%3eIn%20this%20part%2c%20we%20will%20add%20flux%20CD%20to%20our%20cluster%2c%20so%20we%20can%20maintain%20it%20in%20sync%20with%20our%20git%20repository.%20The%20goal%20here%20is%20to%20actually%20leverage%20the%20gitops%20principles%20%2c%20where%20you%20define%20your%20desired%20stat%20in%20a%20git%20repository%20and%20flux%20will%20make%20sure%20your%20cluster%20is%20in%20sync%20with%20it.%3c%2fp%3e%0a%3cp%3eIf%20you%20followed%20our%20previous%20part%2c%20you%20should%20have%20a%20working%20kubernetes%20cluster%20with%20a%20control%20plane%20and%20a%20node%2c%20which%20is%20sufficient%20to%20start%20using%20flux%20CD.%3c%2fp%3e" aria-label=Tumblr><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f&t=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node" aria-label="Hacker News"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div><div id=toc><nav id=TableOfContents><ul><li><a href=#part-3---adding-flux-cd>Part 3 - Adding flux CD</a></li><li><a href=#creating-the-tooling-vm-and-install-of-kubectl>Creating the tooling VM and install of kubectl</a></li><li><a href=#installing-fluxcd>Installing FluxCD</a><ul><li><a href=#installing-the-flux-cli>Installing the Flux CLI</a></li><li><a href=#creating-the-github-repo>Creating the Github Repo</a></li></ul></li><li><a href=#checking-fluxcd>Checking FluxCD</a></li></ul></nav></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">Installation of Kubernetes on Debian Part 2 - Adding a Node</h1><div class=meta><div class=postdate><time datetime="2025-05-17 09:00:00 +0000 UTC" itemprop=datePublished>2025-05-17</time></div><div class=article-read-time><i class="far fa-clock"></i>
5 minute read</div><div class=article-category><i class="fas fa-archive"></i>
<a class=category-link href=/categories/notes>notes</a>
,
<a class=category-link href=/categories/k8s>k8s</a>
,
<a class=category-link href=/categories/kubernetes>kubernetes</a></div><div class=article-tag><i class="fas fa-tag"></i>
<a class=tag-link href=/tags/kubernetes rel=tag>kubernetes</a>
,
<a class=tag-link href=/tags/k8s rel=tag>k8s</a></div></div></header><div class=content itemprop=articleBody><h2 id=part-3---adding-flux-cd>Part 3 - Adding flux CD</h2><p>In this part, we will add flux CD to our cluster, so we can maintain it in sync with our git repository. The goal here is to actually leverage the gitops principles , where you define your desired stat in a git repository and flux will make sure your cluster is in sync with it.</p><p>If you followed our previous part, you should have a working kubernetes cluster with a control plane and a node, which is sufficient to start using flux CD.</p><p>As we will need to use a separate CLI, , I will instanciate a new VM to act as an tooling VM, an utility VM to run the CLI and other tools.</p><h2 id=creating-the-tooling-vm-and-install-of-kubectl>Creating the tooling VM and install of kubectl</h2><p>I just clone my template debian VM and then set a new hostname, don&rsquo;t forget to also update the /etc/hosts file.</p><p>Once done, we need to configure the kubectl CLI to connect to our cluster.</p><p>For that we donwload latest kubectl binary from the <a href=https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/>official website</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span>david@tooling:~$ curl -LO <span style=color:#f1fa8c>&#34;https://dl.k8s.io/release/</span><span style=color:#ff79c6>$(</span>curl -L -s https://dl.k8s.io/release/stable.txt<span style=color:#ff79c6>)</span><span style=color:#f1fa8c>/bin/linux/amd64/kubectl&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>                                 Dload  Upload   Total   Spent    Left  Speed
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span><span style=color:#bd93f9>100</span>   <span style=color:#bd93f9>138</span>  <span style=color:#bd93f9>100</span>   <span style=color:#bd93f9>138</span>    <span style=color:#bd93f9>0</span>     <span style=color:#bd93f9>0</span>   <span style=color:#bd93f9>1046</span>      <span style=color:#bd93f9>0</span> --:--:-- --:--:-- --:--:--  <span style=color:#bd93f9>1053</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span><span style=color:#bd93f9>100</span> 57.3M  <span style=color:#bd93f9>100</span> 57.3M    <span style=color:#bd93f9>0</span>     <span style=color:#bd93f9>0</span>  7740k      <span style=color:#bd93f9>0</span>  0:00:07  0:00:07 --:--:-- 7976k
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>david@tooling:~$   curl -LO <span style=color:#f1fa8c>&#34;https://dl.k8s.io/release/</span><span style=color:#ff79c6>$(</span>curl -L -s https://dl.k8s.io/release/stable.txt<span style=color:#ff79c6>)</span><span style=color:#f1fa8c>/bin/linux/amd64/kubectl.sha256&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>                                 Dload  Upload   Total   Spent    Left  Speed
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span><span style=color:#bd93f9>100</span>   <span style=color:#bd93f9>138</span>  <span style=color:#bd93f9>100</span>   <span style=color:#bd93f9>138</span>    <span style=color:#bd93f9>0</span>     <span style=color:#bd93f9>0</span>    <span style=color:#bd93f9>688</span>      <span style=color:#bd93f9>0</span> --:--:-- --:--:-- --:--:--   <span style=color:#bd93f9>690</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span><span style=color:#bd93f9>100</span>    <span style=color:#bd93f9>64</span>  <span style=color:#bd93f9>100</span>    <span style=color:#bd93f9>64</span>    <span style=color:#bd93f9>0</span>     <span style=color:#bd93f9>0</span>    <span style=color:#bd93f9>271</span>      <span style=color:#bd93f9>0</span> --:--:-- --:--:-- --:--:--   <span style=color:#bd93f9>271</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>david@tooling:~$ <span style=color:#8be9fd;font-style:italic>echo</span> <span style=color:#f1fa8c>&#34;</span><span style=color:#ff79c6>$(</span>cat kubectl.sha256<span style=color:#ff79c6>)</span><span style=color:#f1fa8c>  kubectl&#34;</span> | sha256sum --check
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>kubectl: OK
</span></span></code></pre></div><p>Then we move it cleanly to our profile binary directory:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>chmod +x kubectl
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>mkdir -p ~/.local/bin
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>mv ./kubectl ~/.local/bin/kubectl
</span></span></code></pre></div><p>Don&rsquo;t forget to add it into the path and then reload cfg :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>david@tooling:~$ grep PATH .bashrc
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span><span style=color:#8be9fd;font-style:italic>PATH</span><span style=color:#ff79c6>=</span><span style=color:#8be9fd;font-style:italic>$PATH</span>:~/.local/bin
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>david@tooling:~$ . .bashrc
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>david@tooling:~$ kubectl version --client
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span>Client Version: v1.33.1
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span>Kustomize Version: v5.6.0
</span></span></code></pre></div><p>In order for kubectl to find and access a Kubernetes cluster, it needs a kubeconfig file, which is created automatically when you create a cluster.</p><p>we copy it from the control plane node to our local machine and we test that it works:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>david@tooling:~$ kubectl version
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>Client Version: v1.33.1
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>Kustomize Version: v5.6.0
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>Server Version: v1.33.1
</span></span></code></pre></div><h2 id=installing-fluxcd>Installing FluxCD</h2><p>According to the <a href=https://fluxcd.io/flux/installation/#install-the-controller>official documentation</a>, we need to install the Flux CLI first.</p><p>Something counter intuitive at first for me was why we needed to install a binary when we are going to deploy / upgrade it on a k8s cluster. Actually this is not flux itself but an utility tool that oversees the installation of flux on your cluster.</p><p>Documentation state the following : The flux bootstrap command deploys the Flux controllers on Kubernetes cluster(s) and configures the controllers to sync the cluster(s) state from a Git repository. Besides installing the controllers, the bootstrap command pushes the Flux manifests to the Git repository and configures Flux to update itself from Git.</p><p>It will act on bth the cluster and the git repo according to the documentation.
<img src=https://fluxcd.io/flux/img/flux-bootstrap-diagram.png alt=image></p><h3 id=installing-the-flux-cli>Installing the Flux CLI</h3><p>According to the documentation let&rsquo;s install the CLI</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>david@tooling:~$ curl -s https://fluxcd.io/install.sh | sudo bash
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span><span style=color:#ff79c6>[</span>sudo<span style=color:#ff79c6>]</span> password <span style=color:#ff79c6>for</span> david:
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span><span style=color:#ff79c6>[</span>INFO<span style=color:#ff79c6>]</span>  Downloading metadata https://api.github.com/repos/fluxcd/flux2/releases/latest
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span><span style=color:#ff79c6>[</span>INFO<span style=color:#ff79c6>]</span>  Using 2.5.1 as release
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span><span style=color:#ff79c6>[</span>INFO<span style=color:#ff79c6>]</span>  Downloading <span style=color:#8be9fd;font-style:italic>hash</span> https://github.com/fluxcd/flux2/releases/download/v2.5.1/flux_2.5.1_checksums.txt
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span><span style=color:#ff79c6>[</span>INFO<span style=color:#ff79c6>]</span>  Downloading binary https://github.com/fluxcd/flux2/releases/download/v2.5.1/flux_2.5.1_linux_amd64.tar.gz
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span><span><span style=color:#ff79c6>[</span>INFO<span style=color:#ff79c6>]</span>  Verifying binary download
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8</span><span><span style=color:#ff79c6>[</span>INFO<span style=color:#ff79c6>]</span>  Installing flux to /usr/local/bin/flux
</span></span></code></pre></div><p>Add auto complete :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>david@tooling:~$ <span style=color:#8be9fd;font-style:italic>echo</span> <span style=color:#f1fa8c>&#34;. &lt;(flux completion bash)&#34;</span> &gt;&gt; .bashrc <span style=color:#ff79c6>&amp;&amp;</span> . .bashrc
</span></span></code></pre></div><p>Let&rsquo;s test it :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>david@tooling:~$ flux check --pre
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>► checking prerequisites
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>✔ Kubernetes 1.33.1 &gt;<span style=color:#ff79c6>=</span>1.30.0-0
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>✔ prerequisites checks passed
</span></span></code></pre></div><h3 id=creating-the-github-repo>Creating the Github Repo</h3><p>The strategy I envision is to have a dedicated repo for the cluster and a dedicated repo for each application. the dedicated repo for the cluster will contain all the necessary services for run & operations.</p><p>Let&rsquo;s create the repo, I just followed GH instructions):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#8be9fd;font-style:italic>echo</span> <span style=color:#f1fa8c>&#34;# gitops-k8s-infra&#34;</span> &gt;&gt; README.md
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>git init
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>git add README.md
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>git commit -m <span style=color:#f1fa8c>&#34;initialization&#34;</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span>git branch -M main
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span>git remote add origin https://github.com/DavMig/gitops-k8s-infra.git
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span><span>git push -u origin main
</span></span></code></pre></div><p>Once your repository access is created, we need to create the token to be used by flux, for that I went to Github > Settings > Developer Settings > Personal Access Token > Generate New Token > Fine-grained token > Generate Token.</p><p>I created the token with these properties</p><ul><li>name <code>k8s-flux</code></li><li>repository access <code>Only select repositories</code> with <code>gitops-k8s-infra</code> selected</li><li>permissions <code>Contents</code></li></ul><p>I saved the token in my password manager.</p><p>then we export the information :</p><pre tabindex=0><code>export GITHUB_TOKEN=&lt;your-token&gt;
export GITHUB_USER=&lt;your-username&gt;
</code></pre><p>Then, we can install flux :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>flux bootstrap github <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span><span style=color:#f1fa8c></span>  --owner<span style=color:#ff79c6>=</span><span style=color:#8be9fd;font-style:italic>$GITHUB_USER</span> <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span><span style=color:#f1fa8c></span>  --repository<span style=color:#ff79c6>=</span>gitops-k8s-infra <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span><span style=color:#f1fa8c></span>  --token-auth <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span><span style=color:#f1fa8c></span>  --branch<span style=color:#ff79c6>=</span>main <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span><span style=color:#f1fa8c></span>  --path<span style=color:#ff79c6>=</span>./clusters/staging <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span><span><span style=color:#f1fa8c></span>  --private <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8</span><span><span style=color:#f1fa8c></span>  --personal <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9</span><span><span style=color:#f1fa8c></span>  --verbose
</span></span></code></pre></div><p>and here is the output:</p><pre tabindex=0><code>david@tooling:~/gitops-k8s-infra$ flux bootstrap github \
  --owner=$GITHUB_USER \
  --repository=gitops-k8s-infra \
  --token-auth \
  --branch=main \
  --path=./clusters/staging \
  --private \
  --personal \
  --verbose
► connecting to github.com
► cloning branch &#34;main&#34; from Git repository &#34;https://github.com/DavMig/gitops-k8s-infra.git&#34;
✔ cloned repository
► generating component manifests
✔ generated component manifests
✔ component manifests are up to date
► installing components in &#34;flux-system&#34; namespace
✔ installed components
✔ reconciled components
► determining if source secret &#34;flux-system/flux-system&#34; exists
► generating source secret
► applying source secret &#34;flux-system/flux-system&#34;
✔ reconciled source secret
► generating sync manifests
✔ generated sync manifests
✔ committed sync manifests to &#34;main&#34; (&#34;04960bb6b5739977715246fad9b9deef1862c06b&#34;)
► pushing sync manifests to &#34;https://github.com/DavMig/gitops-k8s-infra.git&#34;
► applying sync manifests
✔ reconciled sync configuration
◎ waiting for GitRepository &#34;flux-system/flux-system&#34; to be reconciled
✔ GitRepository reconciled successfully
◎ waiting for Kustomization &#34;flux-system/flux-system&#34; to be reconciled
✔ Kustomization reconciled successfully
► confirming components are healthy
✔ helm-controller: deployment ready
✔ kustomize-controller: deployment ready
✔ notification-controller: deployment ready
✔ source-controller: deployment ready
✔ all components are healthy
david@tooling:~/gitops-k8s-infra$
</code></pre><h2 id=checking-fluxcd>Checking FluxCD</h2><p>The installation of flux should have crated a namespace called flux-system with some resources inside, also the giyhub PAT has been stored as a secret in the namespace.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span>david@tooling:~/gitops-k8s-infra$ kubectl get all  -n flux-system
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>NAME                                           READY   STATUS    RESTARTS   AGE
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>pod/helm-controller-b6767d66-h72n2             1/1     Running   <span style=color:#bd93f9>0</span>          9m53s
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>pod/kustomize-controller-57c7ff5596-2lqh5      1/1     Running   <span style=color:#bd93f9>0</span>          9m53s
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>pod/notification-controller-58ffd586f7-8tdpl   1/1     Running   <span style=color:#bd93f9>0</span>          9m53s
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>pod/source-controller-6ff87cb475-vrds6         1/1     Running   <span style=color:#bd93f9>0</span>          9m53s
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>NAME                              TYPE        CLUSTER-IP       EXTERNAL-IP   PORT<span style=color:#ff79c6>(</span>S<span style=color:#ff79c6>)</span>   AGE
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>service/notification-controller   ClusterIP   10.104.146.118   &lt;none&gt;        80/TCP    9m54s
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>service/source-controller         ClusterIP   10.108.79.150    &lt;none&gt;        80/TCP    9m54s
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>service/webhook-receiver          ClusterIP   10.109.186.103   &lt;none&gt;        80/TCP    9m53s
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span>NAME                                      READY   UP-TO-DATE   AVAILABLE   AGE
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span>deployment.apps/helm-controller           1/1     <span style=color:#bd93f9>1</span>            <span style=color:#bd93f9>1</span>           9m53s
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span>deployment.apps/kustomize-controller      1/1     <span style=color:#bd93f9>1</span>            <span style=color:#bd93f9>1</span>           9m53s
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span>deployment.apps/notification-controller   1/1     <span style=color:#bd93f9>1</span>            <span style=color:#bd93f9>1</span>           9m53s
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span>deployment.apps/source-controller         1/1     <span style=color:#bd93f9>1</span>            <span style=color:#bd93f9>1</span>           9m53s
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span><span>NAME                                                 DESIRED   CURRENT   READY   AGE
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span><span>replicaset.apps/helm-controller-b6767d66             <span style=color:#bd93f9>1</span>         <span style=color:#bd93f9>1</span>         <span style=color:#bd93f9>1</span>       9m53s
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21</span><span>replicaset.apps/kustomize-controller-57c7ff5596      <span style=color:#bd93f9>1</span>         <span style=color:#bd93f9>1</span>         <span style=color:#bd93f9>1</span>       9m53s
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22</span><span>replicaset.apps/notification-controller-58ffd586f7   <span style=color:#bd93f9>1</span>         <span style=color:#bd93f9>1</span>         <span style=color:#bd93f9>1</span>       9m53s
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23</span><span>replicaset.apps/source-controller-6ff87cb475         <span style=color:#bd93f9>1</span>         <span style=color:#bd93f9>1</span>         <span style=color:#bd93f9>1</span>       9m53s
</span></span></code></pre></div><p>And let&rsquo;s check the secret :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>david@tooling:~/gitops-k8s-infra$ kubectl get secrets -A
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>NAMESPACE     NAME          TYPE     DATA   AGE
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>flux-system   flux-system   Opaque   <span style=color:#bd93f9>2</span>      9m13s
</span></span></code></pre></div><p>and we could check alos our git repository :</p><pre tabindex=0><code>david@tooling:~/gitops-k8s-infra$ tree clusters/
clusters/
└── staging
    └── flux-system
        ├── gotk-components.yaml
        ├── gotk-sync.yaml
        └── kustomization.yaml

3 directories, 3 files
</code></pre><p>Now we have fluxCD installed and we can look forward in deploying our first application.</p></div></article><div class=blog-post-comments><div id=cactus-comments-thread><script>initComments({node:document.getElementById("cactus-comments-thread"),defaultHomeserverUrl:"https://matrix.cactus.chat:8448",serverName:"cactus.chat",siteName:"your_cactus_comments_sitename",commentSectionId:"/posts/k8s-part3-fluxcd-installation/"})</script></div></div><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=/>Main</a></li><li><a href=/posts>Writings</a></li><li><a href=/tags>Tags</a></li><li><a href=/about>About</a></li><li><a href=/posts/>Posts</a></li></ul></div><div id=toc-footer style=display:none><nav id=TableOfContents><ul><li><a href=#part-3---adding-flux-cd>Part 3 - Adding flux CD</a></li><li><a href=#creating-the-tooling-vm-and-install-of-kubectl>Creating the tooling VM and install of kubectl</a></li><li><a href=#installing-fluxcd>Installing FluxCD</a><ul><li><a href=#installing-the-flux-cli>Installing the Flux CLI</a></li><li><a href=#creating-the-github-repo>Creating the Github Repo</a></li></ul></li><li><a href=#checking-fluxcd>Checking FluxCD</a></li></ul></nav></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f" aria-label=Facebook><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f&text=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node" aria-label=Twitter><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f&title=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node" aria-label=Linkedin><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f&is_video=false&description=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node" aria-label=Pinterest><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node&body=Check out this article: https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f" aria-label=Email><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f&title=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node" aria-label=Pocket><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f&title=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node" aria-label=reddit><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f&name=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node&description=%3ch2%20id%3d%22part-3---adding-flux-cd%22%3ePart%203%20-%20Adding%20flux%20CD%3c%2fh2%3e%0a%3cp%3eIn%20this%20part%2c%20we%20will%20add%20flux%20CD%20to%20our%20cluster%2c%20so%20we%20can%20maintain%20it%20in%20sync%20with%20our%20git%20repository.%20The%20goal%20here%20is%20to%20actually%20leverage%20the%20gitops%20principles%20%2c%20where%20you%20define%20your%20desired%20stat%20in%20a%20git%20repository%20and%20flux%20will%20make%20sure%20your%20cluster%20is%20in%20sync%20with%20it.%3c%2fp%3e%0a%3cp%3eIf%20you%20followed%20our%20previous%20part%2c%20you%20should%20have%20a%20working%20kubernetes%20cluster%20with%20a%20control%20plane%20and%20a%20node%2c%20which%20is%20sufficient%20to%20start%20using%20flux%20CD.%3c%2fp%3e" aria-label=Tumblr><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fdavmig.github.io%2fposts%2fk8s-part3-fluxcd-installation%2f&t=Installation%20of%20Kubernetes%20on%20Debian%20Part%202%20-%20Adding%20a%20Node" aria-label="Hacker News"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu-toggle class=icon href=# onclick='return $("#nav-footer").toggle(),!1' aria-label=Menu><i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick='return $("#toc-footer").toggle(),!1' aria-label=TOC><i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick='return $("#share-footer").toggle(),!1' aria-label=Share><i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2025 Zaft Memory Core</div><div class=footer-right><nav><ul><li><a href=/>Main</a></li><li><a href=/posts>Writings</a></li><li><a href=/tags>Tags</a></li><li><a href=/about>About</a></li><li><a href=/posts/>Posts</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script><script src=/js/main.js></script><script src=/js/code-copy.js></script></html>